<div class="container p-5">
  <h1 class="text-center mb-5">
    The Net Fish
  </h1>
  <h4 class="text-center mb-2">
    Filtra per Genere e Cast
  </h4>
  <form class="pt-5" #form="ngForm">
    <div class="form-group row">
      <label for="genre" class="col-sm-2 col-form-label">Selezione il genere</label>
        <div class="col-sm-10">
          <select class="form-control" id="genre" required ngModel required name="genre">
            <option *ngFor="let genre of arrayGenres">
              {{genre}}
            </option>
          </select>
        </div>
    </div>

    <div class="form-group row">
      <label for="cast" class="col-sm-2 col-form-label">Cast</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="cast" required ngModel name="cast">
        </div>
    </div>
  </form>

  <div class="text-right">
    <button class="btn btn-primary mb-3 mb-3 float-left"[routerLink]="['/dashboard']">Back</button>

    <button class="btn btn-primary mb-3 mb-3 float-right " (click)="filterBy(form)">Filtra</button>

    <button type="button"  style="font-size: 30px" class="btn btn-default" aria-label="Right Align" [routerLink]='["/add"]'>
      <span class="fas fa-plus mb-3 float-right" aria-hidden="true"></span>
    </button>
</div>

  <table class="table" *ngIf="showResult">
    <thead class="thead-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Director</th>
        <th scope="col">Release Date</th>
        <th scope="col">Genre</th>
        <th scope="col">Cast</th>
      </tr>
    </thead>
    <tbody>
      <tr class="pointer" *ngFor="let entry of movieData | doubleFilter : genre : cast, let i = index">
        <th scope="row"> {{i + 1}}</th>
        <td>{{entry.name}}</td>
        <td>{{entry.director}}</td>
        <td>{{entry.releaseDate | date}}</td>
        <td>{{entry.genre}}</td>
        <td>{{entry.cast}}</td>
      </tr>
    </tbody>
  </table>
</div>

 <!-- <app-loading *ngIf="!movieData" ></app-loading> -->
