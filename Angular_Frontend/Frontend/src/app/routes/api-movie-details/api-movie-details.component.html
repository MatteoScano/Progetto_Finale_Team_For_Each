

<link
  href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap"
  rel="stylesheet"
/>



<!--IMMAGINE PRINCIPALE-->
<body class="page-wrapper grid">
  <div class="container1">
    <!--IMMAGINE FILM -->
    <div class="boxImg">
      <img
        src="{{ imagePath }}"
        *ngIf="imagePath != null"
        class="shadowx frame img-fluid"
      />
    </div>




    <!-- TITOLO E DATI-->
    <div class="box1">
      <div class="title font" *ngIf="movieDetailsEntry != null">
        <h1>{{ movieDetailsEntry.title }}</h1>
      </div>

      <div class="elements font" *ngIf="movieDetailsEntry != null">
        <p><b>Release Date: </b> {{ movieDetailsEntry.release_date | date }}</p>
      </div>

      <div class="elements poppins" *ngIf="movieDetailsEntry != null">
        <!-- <b>Overview:</b>  -->
        <p>{{ movieDetailsEntry.overview }}</p>
      </div>
    </div>





       <!-- ICONA AGGIUNGI ALLA LISTA -->

       <div class="addButtons-container">
    <a href="" class="me-4 text-reset m-2 mt-5 ">
      <i class="fas fa-plus fa-2x box-buttonAdd"> </i>
    </a>

      <a href="" class="me-4 text-reset m-2 mt-5">
        <i class="far fa-check-circle fa-2x box-buttonSeen"></i>
        </a>

    </div>


    <form class="pt-5" (ngSubmit)="onSeen(formOnSeen)"  id="form1" #formOnSeen="ngForm" >

      <div class="form-group row">
        <label for="seen" class="col-sm-2 col-form-label">Seen</label>
        <div class="col-sm-10">
            <select class="form-control" id="seen" required ngModel
                name="seen">
                <option [value]="seen" *ngFor="let seen of seenOption">
                    {{seen}}
                </option>
            </select>
        </div>
    </div>
    <button type="submit" class="btn btn-success" >Submit</button>
  </form>



    <!-- RATING FORM -->
    <div class="box2">
      <form class="" (ngSubmit)="onSubmitRating(form)" #form="ngForm">



<!-- MOVIE RATINGS-->
        <div class="container-rating">
          <div class="box-1a">
            <ngb-rating class="star-container" [max]="5" ngModel name="movie_rating" id="movie_rating"  required></ngb-rating>

          </div>
          <div class="box-2a">
            <button
              class="btn btn-primary ml-1 buttons" [disabled]="!form.valid"
              class="btn btn-success buttons">Submit Rating</button>
          </div>
        </div>


          <hr>

      </form>
    </div>

    <!--FINE RATINGS-->

    <!-- INIZIO COMMENTO UTENTE-->
    <div class="comment-wrapper">

      <p class="comment-wrapper">COMMENTS</p>
      <div class="container-1">

          <div class="row">
              <h3 class="text-center">New Comment</h3>
          </div>

          <form class="pt-5" (ngSubmit)="onSubmit(formDue)" #formDue="ngForm">

              <div class="form-group row">
                  <div class="col-sm-10">
                      <textarea  class="form-control style-text-area" id="body" required ngModel name="body">
                        </textarea>
                  </div>
              </div>

              <button type="submit" (click)="exit()">Submit Comment</button>

          </form>
      </div>
</div>
<!-- FINE COMMENTO UTENTE-->


<!-- INIZIO TUTTI COMMENTI -->
<div class="container p-5" >
  <h1 class=" mb-5">
    Movie Comments
  </h1>

  <table class="table">
    <!--<thead class="thead-dark">
      <tr>
        <th scope="col">Comment id</th>
        <th scope="col">User id</th>
        <th scope="col">Movie id</th>
        <th scope="col">Comment</th>
      </tr>
    </thead>-->
    <tbody>
      <tr class="pointer" *ngFor="let entry of comments | commentsByMovieId : id">
        <!--<td>{{entry.id}}</td>
        <td>{{entry.userId}}</td><td>
        <td>{{entry.movieId}}</td>-->
        <td>{{entry.body}}</td>
      </tr>
    </tbody>
  </table>
</div>

    <app-loading-page *ngIf="!movieDetailsEntry"></app-loading-page>
  </div>
  <!-- FINE CONTAINER-->


</body>

